# æ¨ŠæŒ¯ä¸œçƒè¿·ç½‘ç«™AIåº”æ´ç‰©ç”Ÿæˆå™¨ - å¯åŠ¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- Python 3.9+
- MySQL 8.0+
- Redis 6.0+
- Gemini APIå¯†é’¥

### 1. æ•°æ®åº“å¯åŠ¨

```bash
# å¯åŠ¨MySQL
sudo systemctl start mysql  # Linux
brew services start mysql   # macOS

# å¯åŠ¨Redis
sudo systemctl start redis-server  # Linux
brew services start redis          # macOS

# åˆå§‹åŒ–æ•°æ®åº“
mysql -u root -p < database/init_fanzd_net.sql
```

### 2. åç«¯APIæœåŠ¡å¯åŠ¨

```bash
cd backend/api-service

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥

# å¯åŠ¨æœåŠ¡
npm run dev
# æœåŠ¡åœ°å€: http://localhost:3001
```

### 3. AIæœåŠ¡å¯åŠ¨

```bash
cd backend/ai-service

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate  # Linux/macOS

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®Gemini APIå¯†é’¥

# å¯åŠ¨æœåŠ¡
python -m app.main
# æœåŠ¡åœ°å€: http://localhost:8000
```

### 4. å¢å¼ºç‰ˆå‰ç«¯å¯åŠ¨

```bash
cd frontpage/ai-generator

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# è®¿é—®åœ°å€: http://localhost:3000
```

## ğŸ¯ è®¿é—®åœ°å€

- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **APIç½‘å…³**: http://localhost:27007
- **APIæœåŠ¡**: http://localhost:27001
- **AIæœåŠ¡**: http://localhost:27002
- **ç”¨æˆ·æœåŠ¡**: http://localhost:27003
- **åª’ä½“æœåŠ¡**: http://localhost:27004
- **æ–°é—»æœåŠ¡**: http://localhost:27005
- **èµ›ç¨‹æœåŠ¡**: http://localhost:27006
- **å¥åº·æ£€æŸ¥**:
  - API: http://localhost:27001/health
  - AI: http://localhost:27002/health
  - ç½‘å…³: http://localhost:27007/health

## ğŸ”§ ç¯å¢ƒé…ç½®

### APIæœåŠ¡ (.env)
```env
NODE_ENV=development
PORT=27001
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=netPA-2025
DB_NAME=fanzd_net
JWT_SECRET=your-jwt-secret
REDIS_HOST=localhost
REDIS_PORT=6379
AI_SERVICE_URL=http://localhost:27002
```

### AIæœåŠ¡ (.env)
```env
HOST=0.0.0.0
PORT=27002
GEMINI_API_KEY=your-gemini-api-key
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=netPA-2025
DB_NAME=fanzd_net
REDIS_HOST=localhost
REDIS_PORT=6379
METRICS_PORT=27008
```

### APIç½‘å…³ (.env)
```env
NODE_ENV=development
PORT=27007
API_SERVICE_URL=http://localhost:27001
AI_SERVICE_URL=http://localhost:27002
USER_SERVICE_URL=http://localhost:27003
MEDIA_SERVICE_URL=http://localhost:27004
NEWS_SERVICE_URL=http://localhost:27005
SCHEDULE_SERVICE_URL=http://localhost:27006
REDIS_HOST=localhost
REDIS_PORT=6379
```

### å‰ç«¯åº”ç”¨ (.env)
```env
VITE_API_BASE_URL=http://localhost:27007/api
VITE_AI_API_BASE_URL=http://localhost:27002/api/v1
VITE_API_GATEWAY_URL=http://localhost:27007
```

## ğŸ§ª åŠŸèƒ½æµ‹è¯•

### 1. åŸºç¡€åŠŸèƒ½æµ‹è¯•
```bash
# æµ‹è¯•APIç½‘å…³
curl http://localhost:27007/health

# æµ‹è¯•APIæœåŠ¡
curl http://localhost:27001/health

# æµ‹è¯•AIæœåŠ¡
curl http://localhost:27002/health

# æµ‹è¯•ç”¨æˆ·æœåŠ¡
curl http://localhost:27003/health

# æµ‹è¯•åª’ä½“æœåŠ¡
curl http://localhost:27004/health

# æµ‹è¯•æ–°é—»æœåŠ¡
curl http://localhost:27005/health

# æµ‹è¯•èµ›ç¨‹æœåŠ¡
curl http://localhost:27006/health

# æµ‹è¯•æ•°æ®åº“è¿æ¥
curl http://localhost:27001/api/auth/test
```

### 2. å¢å¼ºåŠŸèƒ½æµ‹è¯•
- è®¿é—® http://localhost:3000
- æ³¨å†Œ/ç™»å½•è´¦æˆ·
- é€‰æ‹©"åº”æ´æ¨ªå¹…"
- æµ‹è¯•è§†è§‰å…ƒç´ é€‰æ‹©å™¨
- æµ‹è¯•å®æ—¶é¢„è§ˆåŠŸèƒ½
- æµ‹è¯•AIç”ŸæˆåŠŸèƒ½

## ğŸ¨ æ–°åŠŸèƒ½ä½¿ç”¨æŒ‡å—

### è§†è§‰å…ƒç´ é€‰æ‹©å™¨
1. åœ¨æ¨ªå¹…ç”Ÿæˆå™¨ä¸­æ‰¾åˆ°"è§†è§‰å…ƒç´ "éƒ¨åˆ†
2. é€‰æ‹©å…ƒç´ åˆ†ç±»ï¼ˆäººç‰©ã€ä½“è‚²ã€è£èª‰ç­‰ï¼‰
3. ç‚¹å‡»å…ƒç´ å¡ç‰‡æ·»åŠ åˆ°è®¾è®¡ä¸­
4. è°ƒæ•´å…ƒç´ å±æ€§ï¼ˆä½ç½®ã€å¤§å°ã€é€æ˜åº¦ç­‰ï¼‰

### å®æ—¶é¢„è§ˆ
1. æ”¯æŒCanvaså’ŒSVGä¸¤ç§é¢„è§ˆæ¨¡å¼
2. å®æ—¶æ˜¾ç¤ºæ–‡å­—å’Œè§†è§‰å…ƒç´ ç»„åˆæ•ˆæœ
3. å¯ä»¥å¯¼å‡ºé¢„è§ˆå›¾ç‰‡

### AIå¢å¼ºç”Ÿæˆ
1. è¾“å…¥åˆ›æ„æè¿°
2. é€‰æ‹©è§†è§‰å…ƒç´ å’Œå‚æ•°
3. AIç”Ÿæˆå®Œæ•´è®¾è®¡æ–¹æ¡ˆ
4. åŒ…å«å¸ƒå±€ã€é¢œè‰²ã€ç‰¹æ•ˆå»ºè®®

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥MySQLçŠ¶æ€
   sudo systemctl status mysql
   
   # é‡å¯MySQL
   sudo systemctl restart mysql
   ```

2. **Redisè¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥RedisçŠ¶æ€
   redis-cli ping
   
   # é‡å¯Redis
   sudo systemctl restart redis-server
   ```

3. **Gemini APIé”™è¯¯**
   - æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
   - æŸ¥çœ‹AIæœåŠ¡æ—¥å¿—

4. **å‰ç«¯ç»„ä»¶åŠ è½½å¤±è´¥**
   ```bash
   # æ¸…ç†ç¼“å­˜é‡æ–°å®‰è£…
   rm -rf node_modules package-lock.json
   npm install
   ```

### æ—¥å¿—æŸ¥çœ‹

```bash
# APIæœåŠ¡æ—¥å¿—
cd backend/api-service
npm run dev  # æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

# AIæœåŠ¡æ—¥å¿—
cd backend/ai-service
python -m app.main  # æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

# å‰ç«¯å¼€å‘æ—¥å¿—
cd frontpage/ai-generator
npm run dev  # æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º
```

## ğŸ“Š æ€§èƒ½ç›‘æ§

### æœåŠ¡çŠ¶æ€æ£€æŸ¥
```bash
# æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€
curl http://localhost:3001/health
curl http://localhost:8000/health
curl http://localhost:8000/api/v1/models/status
```

### æ•°æ®åº“æ€§èƒ½
```sql
-- æ£€æŸ¥æ•°æ®åº“è¿æ¥
SHOW PROCESSLIST;

-- æ£€æŸ¥è¡¨çŠ¶æ€
SHOW TABLE STATUS FROM fanzd_net;
```

## ğŸ”„ å¼€å‘æ¨¡å¼

### çƒ­é‡è½½å¼€å‘
æ‰€æœ‰æœåŠ¡éƒ½æ”¯æŒçƒ­é‡è½½ï¼š
- APIæœåŠ¡ï¼šä½¿ç”¨ `npm run dev`
- AIæœåŠ¡ï¼šä½¿ç”¨ `python -m app.main` 
- å‰ç«¯ï¼šä½¿ç”¨ `npm run dev`

### ä»£ç ä¿®æ”¹åè‡ªåŠ¨é‡å¯
- ä¿®æ”¹åç«¯ä»£ç ä¼šè‡ªåŠ¨é‡å¯æœåŠ¡
- ä¿®æ”¹å‰ç«¯ä»£ç ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢
- ä¿®æ”¹AIæœåŠ¡ä»£ç éœ€è¦æ‰‹åŠ¨é‡å¯

## ğŸ¯ ä¸‹ä¸€æ­¥

1. å®ŒæˆåŸºç¡€åŠŸèƒ½æµ‹è¯•
2. æµ‹è¯•å¢å¼ºç‰ˆè§†è§‰å…ƒç´ åŠŸèƒ½
3. éªŒè¯AIç”Ÿæˆæ•ˆæœ
4. æ ¹æ®éœ€è¦è°ƒæ•´å‚æ•°å’Œé…ç½®
5. éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

---

**æŠ€æœ¯æ”¯æŒ**: å¦‚æœ‰é—®é¢˜è¯·æŸ¥çœ‹æ—¥å¿—æˆ–è”ç³»å¼€å‘å›¢é˜Ÿ
